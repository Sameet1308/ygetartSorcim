def authenticate():
    """Authenticate and return authToken and cookies if successful."""
    auth_endpoint = f"{base_url}/auth/login"
    auth_payload = {"username": username, "password": password}
    response = requests.post(auth_endpoint, json=auth_payload, headers=headers, verify=False)
    
    print(f"HTTP Status: {response.status_code}")
    print("Response Headers:", response.headers)
    print("Response Body:", response.text)
    
    if response.status_code == 200:
        authToken = response.headers.get('X-MSTR-AuthToken')
        if authToken:
            print("Authentication Successful")
            cookies = response.cookies
            return authToken, cookies
        else:
            print("Authentication token not found in the response.")
            exit()
    elif response.status_code == 204:
        print("No content returned; check if the endpoint is correct and expects POST data.")
        exit()
    else:
        print("Authentication Failed")
        exit()
